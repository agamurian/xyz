var R=Object.defineProperty,E=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var w=(t,e,r)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,u=(t,e)=>{for(var r in e||(e={}))C.call(e,r)&&w(t,r,e[r]);if(k)for(var r of k(e))O.call(e,r)&&w(t,r,e[r]);return t},$=(t,e)=>E(t,v(e));var d=(t,e)=>{var r={};for(var i in t)C.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&k)for(var i of k(t))e.indexOf(i)<0&&O.call(t,i)&&(r[i]=t[i]);return r};var z=(t,e)=>{for(var r in e)R(t,r,{get:e[r],enumerable:!0})};var h={};z(h,{ago:()=>X,date:()=>Q,eq:()=>p,gt:()=>q,gte:()=>H,lt:()=>U,lte:()=>G,ne:()=>B,number:()=>J});var T=(t,e)=>{let{modifierDefaults:r}=e||{},{[t]:i}=r||{};return i||{}};var p=({value:t,options:e=[],defaultValue:r=""})=>(e.find(({key:i})=>`${i}`.toLowerCase()===`${t}`.toLowerCase())||{}).value||r,B=({value:t,options:e=[],defaultValue:r=""})=>(e.find(({key:i})=>`${i}`.toLowerCase()!==`${t}`.toLowerCase())||{}).value||r,U=({value:t,options:e=[],defaultValue:r=""})=>(e.sort((o,n)=>+o.key-+n.key).find(({key:o})=>+t<+o)||{}).value||r,q=({value:t,options:e=[],defaultValue:r=""})=>(e.sort((o,n)=>+n.key-+o.key).find(({key:o})=>+t>+o)||{}).value||r,G=({value:t,options:e=[],defaultValue:r=""})=>p({value:t,options:e,defaultValue:U({value:t,options:e,defaultValue:r})}),H=({value:t,options:e=[],defaultValue:r=""})=>p({value:t,options:e,defaultValue:q({value:t,options:e,defaultValue:r})}),J=({value:t,props:e,defaultValue:r="",locale:i="",parserOptions:o})=>{if(!i)return"";let s=T("number",o),{maximumFractionDigits:n}=s,m=d(s,["maximumFractionDigits"]),c=(e==null?void 0:e.number)||{},{maximumFractionDigits:f=n||2}=c,a=d(c,["maximumFractionDigits"]);return new Intl.NumberFormat(i,u($(u({},m),{maximumFractionDigits:f}),a)).format(+t||+r)},Q=({value:t,props:e,defaultValue:r="",locale:i="",parserOptions:o})=>{if(!i)return"";let n=d(T("date",o),[]),m=d((e==null?void 0:e.date)||{},[]);return new Intl.DateTimeFormat(i,u(u({},n),m)).format(+t||+r)},P=[{key:"second",multiplier:1e3},{key:"minute",multiplier:60},{key:"hour",multiplier:60},{key:"day",multiplier:24},{key:"week",multiplier:7},{key:"month",multiplier:13/3},{key:"year",multiplier:12}],N=(t="",e="")=>new RegExp(`^${t}s?$`).test(e),S=t=>P.indexOf(P.find(({key:e})=>N(e,t))),W=(t,e)=>P.reduce(([r,i],{key:o,multiplier:n},m)=>{if(N(i,e))return[r,i];if(!i||m===S(i)+1){let f=Math.round(r/n);if(!i||Math.abs(f)>=1||e!=="auto")return[f,o]}return[r,i]},[t,""]),X=({value:t,defaultValue:e="",locale:r="",props:i,parserOptions:o})=>{if(!r)return"";let g=T("ago",o),{format:n,numeric:m}=g,f=d(g,["format","numeric"]),l=(i==null?void 0:i.ago)||{},{format:a=n||"auto",numeric:s=m||"auto"}=l,c=d(l,["format","numeric"]),x=+t||+e,M=W(x,a);return new Intl.RelativeTimeFormat(r,u($(u({},f),{numeric:s}),c)).format(...M)};var Y=t=>typeof t=="string"&&/{{(?:(?!{{|}}).)+}}/.test(t),D=t=>typeof t=="string"?t.replace(/\\(?=:|;|{|})/g,""):t,Z=({value:t,props:e,payload:r,parserOptions:i,locale:o})=>`${t}`.replace(/{{\s*(?:(?!{{|}}).)+\s*}}/g,n=>{let m=D(`${n.match(/(?!{|\s).+?(?!\\[:;]).(?=\s*(?:[:;]|}}$))/)}`),f=r==null?void 0:r[m],[,a=""]=n.match(/.+?(?!\\;).;\s*default\s*:\s*([^\s:;].+?(?:\\[:;]|[^;\s}])*)(?=\s*(?:;|}}$))/i)||[];a=a||(r==null?void 0:r.default)||"";let[,s=""]=n.match(/{{\s*(?:[^;]|(?:\\;))+\s*(?:(?!\\:).[:])\s*(?!\s)((?:\\;|[^;])+?)(?=\s*(?:[;]|}}$))/i)||[];if(f===void 0&&s!=="ne")return a;let c=!!s,{customModifiers:x}=i||{},M=u(u({},h),x||{});s=Object.keys(M).includes(s)?s:"eq";let g=M[s],l=(n.match(/[^\s:;{](?:[^;]|\\[;])+[^\s:;}]/gi)||[]).reduce((F,b,j)=>{if(j>0){let y=D(`${b.match(/(?:(?:\\:)|[^:])+/)}`.trim()),I=`${b.match(/(?:(?:\\:)|[^:])+$/)}`.trim();if(y&&y!=="default"&&I)return[...F,{key:y,value:I}]}return F},[]);return!c&&!l.length?f:g({value:f,options:l,props:e,defaultValue:a,locale:o,parserOptions:i})}),A=({value:t,props:e,payload:r,parserOptions:i,locale:o})=>{if(Y(t)){let n=Z({value:t,payload:r,props:e,parserOptions:i,locale:o});return A({value:n,payload:r,props:e,parserOptions:i,locale:o})}else return D(t)},_=t=>({parse:(e,[r,i],o,n)=>((r==null?void 0:r.default)&&e===void 0&&(e=`${r.default}`),e===void 0&&(e=`${n}`),A({value:e,payload:r,props:i,parserOptions:t,locale:o}))}),rt=_;export{rt as default};
